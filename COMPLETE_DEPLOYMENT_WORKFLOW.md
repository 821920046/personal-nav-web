# å®Œæ•´éƒ¨ç½²å·¥ä½œæµç¨‹

æœ¬æŒ‡å—æ•´åˆäº† GitHubã€Cloudflare Pages å’Œ Supabase çš„å®Œæ•´éƒ¨ç½²æµç¨‹ï¼Œå¸®åŠ©æ‚¨ä»é›¶å¼€å§‹éƒ¨ç½²å¯¼èˆªç½‘ç«™ã€‚

## ğŸ“‹ éƒ¨ç½²æ£€æŸ¥æ¸…å•

åœ¨å¼€å§‹ä¹‹å‰ï¼Œç¡®ä¿æ‚¨å·²å‡†å¤‡å¥½ï¼š

- [ ] å®‰è£…äº† Git
- [ ] æ‹¥æœ‰ GitHub è´¦å·
- [ ] æ‹¥æœ‰ Cloudflare è´¦å·
- [ ] æ‹¥æœ‰ Supabase è´¦å·
- [ ] é¡¹ç›®ä»£ç åœ¨æœ¬åœ°

## ğŸš€ å¿«é€Ÿéƒ¨ç½²ï¼ˆ30 åˆ†é’Ÿï¼‰

### ç¬¬ä¸€æ­¥ï¼šSupabase é…ç½®ï¼ˆ10 åˆ†é’Ÿï¼‰

> ä¸ºä»€ä¹ˆå…ˆé…ç½® Supabaseï¼Ÿå› ä¸ºéœ€è¦è·å– API å‡­è¯ç”¨äºåç»­éƒ¨ç½²ã€‚

1. **åˆ›å»º Supabase é¡¹ç›®**
   ```
   è®¿é—®ï¼šhttps://supabase.com/dashboard
   ç‚¹å‡»ï¼šNew project
   å¡«å†™ï¼šé¡¹ç›®åç§°ã€å¯†ç ã€åŒºåŸŸ
   ç­‰å¾…ï¼šçº¦ 2 åˆ†é’Ÿåˆå§‹åŒ–
   ```

2. **è·å– API å‡­è¯**
   ```
   è¿›å…¥ï¼šSettings â†’ API
   å¤åˆ¶ï¼šProject URL å’Œ anon public key
   ä¿å­˜ï¼šè®°å½•åˆ°å®‰å…¨çš„åœ°æ–¹
   ```

3. **è¿è¡Œæ•°æ®åº“è¿ç§»**
   ```
   è¿›å…¥ï¼šSQL Editor
   å¤åˆ¶ï¼šSUPABASE_SETUP_GUIDE.md ä¸­çš„ SQL è„šæœ¬
   æ‰§è¡Œï¼šåˆ›å»ºè¡¨å’Œ RLS ç­–ç•¥
   éªŒè¯ï¼šåœ¨ Table Editor ä¸­æŸ¥çœ‹è¡¨ç»“æ„
   ```

4. **åˆ›å»ºæµ‹è¯•ç”¨æˆ·**
   ```
   è¿›å…¥ï¼šAuthentication â†’ Users
   ç‚¹å‡»ï¼šAdd user
   å¡«å†™ï¼šæµ‹è¯•é‚®ç®±å’Œå¯†ç 
   ```

âœ… **æ£€æŸ¥ç‚¹**ï¼šç¡®è®¤ä¸‰ä¸ªè¡¨ï¼ˆcategories, sites, settingsï¼‰å·²åˆ›å»º

---

### ç¬¬äºŒæ­¥ï¼šGitHub ä¸Šä¼ ï¼ˆ5 åˆ†é’Ÿï¼‰

1. **åˆå§‹åŒ– Git ä»“åº“**
   ```bash
   cd "c:\Users\qh686\Desktop\google code\nav-website-fullstack-backup"
   git init
   git add .
   git commit -m "Initial commit: æ™ºèƒ½å¯¼èˆªç½‘ç«™"
   ```

2. **åˆ›å»º GitHub ä»“åº“**
   ```
   è®¿é—®ï¼šhttps://github.com/new
   å¡«å†™ï¼šä»“åº“åç§°ï¼ˆå¦‚ nav-website-fullstackï¼‰
   é€‰æ‹©ï¼šPublic æˆ– Private
   åˆ›å»ºï¼šä¸è¦å‹¾é€‰ README
   ```

3. **æ¨é€ä»£ç **
   ```bash
   git remote add origin https://github.com/ä½ çš„ç”¨æˆ·å/nav-website-fullstack.git
   git branch -M main
   git push -u origin main
   ```

âœ… **æ£€æŸ¥ç‚¹**ï¼šè®¿é—® GitHub ä»“åº“ï¼Œç¡®è®¤ä»£ç å·²ä¸Šä¼ 

---

### ç¬¬ä¸‰æ­¥ï¼šCloudflare Pages éƒ¨ç½²ï¼ˆ15 åˆ†é’Ÿï¼‰

1. **è¿æ¥ GitHub ä»“åº“**
   ```
   è®¿é—®ï¼šhttps://dash.cloudflare.com
   è¿›å…¥ï¼šWorkers & Pages
   ç‚¹å‡»ï¼šCreate application â†’ Pages â†’ Connect to Git
   é€‰æ‹©ï¼šæ‚¨çš„ GitHub ä»“åº“
   ```

2. **é…ç½®æ„å»ºè®¾ç½®**
   ```
   Project name: nav-website
   Production branch: main
   Build command: pnpm build
   Build output directory: dist
   ```

3. **æ·»åŠ ç¯å¢ƒå˜é‡**
   ```
   ç‚¹å‡»ï¼šEnvironment variables â†’ Add variable
   
   å˜é‡ 1:
   Name: VITE_SUPABASE_URL
   Value: [ä» Supabase å¤åˆ¶çš„ Project URL]
   
   å˜é‡ 2:
   Name: VITE_SUPABASE_ANON_KEY
   Value: [ä» Supabase å¤åˆ¶çš„ anon key]
   ```

4. **å¼€å§‹éƒ¨ç½²**
   ```
   ç‚¹å‡»ï¼šSave and Deploy
   ç­‰å¾…ï¼š2-5 åˆ†é’Ÿæ„å»ºå®Œæˆ
   ```

5. **è®¿é—®ç½‘ç«™**
   ```
   å¤åˆ¶ï¼šCloudflare æä¾›çš„ URLï¼ˆå¦‚ https://nav-website.pages.devï¼‰
   è®¿é—®ï¼šæµ‹è¯•ç½‘ç«™æ˜¯å¦æ­£å¸¸
   ```

âœ… **æ£€æŸ¥ç‚¹**ï¼šç½‘ç«™å¯ä»¥è®¿é—®ï¼Œå¯ä»¥æ³¨å†Œå’Œç™»å½•

---

## ğŸ§ª åŠŸèƒ½æµ‹è¯•

éƒ¨ç½²å®Œæˆåï¼Œè¿›è¡Œä»¥ä¸‹æµ‹è¯•ï¼š

### 1. è®¤è¯æµ‹è¯•
- [ ] è®¿é—®ç½‘ç«™
- [ ] ç‚¹å‡»ã€Œæ³¨å†Œã€
- [ ] ä½¿ç”¨é‚®ç®±å’Œå¯†ç æ³¨å†Œæ–°ç”¨æˆ·
- [ ] ç™»å½•æˆåŠŸåè·³è½¬åˆ°é¦–é¡µ

### 2. åˆ†ç±»ç®¡ç†æµ‹è¯•
- [ ] ç‚¹å‡»ã€Œç®¡ç†ã€è¿›å…¥åå°
- [ ] æ·»åŠ  2-3 ä¸ªåˆ†ç±»
- [ ] ç¼–è¾‘åˆ†ç±»åç§°
- [ ] æ‹–æ‹½æ’åºåˆ†ç±»
- [ ] åˆ é™¤ä¸€ä¸ªåˆ†ç±»

### 3. ç½‘ç«™ç®¡ç†æµ‹è¯•
- [ ] é€‰æ‹©ä¸€ä¸ªåˆ†ç±»
- [ ] æ·»åŠ  3-5 ä¸ªç½‘ç«™
- [ ] ç¼–è¾‘ç½‘ç«™ä¿¡æ¯
- [ ] æ‹–æ‹½æ’åºç½‘ç«™
- [ ] åˆ é™¤ä¸€ä¸ªç½‘ç«™

### 4. è®¾ç½®æµ‹è¯•
- [ ] ä¿®æ”¹ç½‘ç«™æ ‡é¢˜
- [ ] æ›´æ”¹ Logo
- [ ] è®¾ç½®åŸå¸‚å’Œå¤©æ°”
- [ ] æ›´æ”¹é»˜è®¤æœç´¢å¼•æ“
- [ ] ä¿å­˜è®¾ç½®

### 5. æ•°æ®ç®¡ç†æµ‹è¯•
- [ ] å¯¼å‡ºæ•°æ®ä¸º JSON
- [ ] æ£€æŸ¥å¯¼å‡ºæ–‡ä»¶å†…å®¹
- [ ] å¯¼å…¥ä¹‹å‰å¯¼å‡ºçš„æ•°æ®
- [ ] éªŒè¯æ•°æ®æ¢å¤æ­£ç¡®

### 6. é¦–é¡µåŠŸèƒ½æµ‹è¯•
- [ ] è¿”å›é¦–é¡µ
- [ ] æŸ¥çœ‹æ‰€æœ‰åˆ†ç±»å’Œç½‘ç«™
- [ ] ç‚¹å‡»ç½‘ç«™é“¾æ¥ï¼ˆåœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€ï¼‰
- [ ] ä½¿ç”¨æœç´¢åŠŸèƒ½
- [ ] æŸ¥çœ‹æœ€è¿‘è®¿é—®ï¼ˆå¦‚æœæœ‰ï¼‰

âœ… **æ‰€æœ‰æµ‹è¯•é€šè¿‡**ï¼šéƒ¨ç½²æˆåŠŸï¼

---

## ğŸ”„ æŒç»­éƒ¨ç½²å·¥ä½œæµç¨‹

### æ—¥å¸¸å¼€å‘æµç¨‹

```bash
# 1. ä¿®æ”¹ä»£ç 
# ç¼–è¾‘æ–‡ä»¶...

# 2. æµ‹è¯•æœ¬åœ°
pnpm dev

# 3. æäº¤æ›´æ”¹
git add .
git commit -m "æè¿°æ‚¨çš„æ›´æ”¹"

# 4. æ¨é€åˆ° GitHub
git push origin main

# 5. è‡ªåŠ¨éƒ¨ç½²
# Cloudflare Pages ä¼šè‡ªåŠ¨æ£€æµ‹æ¨é€å¹¶éƒ¨ç½²
# ç­‰å¾… 2-5 åˆ†é’Ÿå³å¯çœ‹åˆ°æ›´æ–°
```

### åˆ†æ”¯å¼€å‘æµç¨‹

```bash
# 1. åˆ›å»ºå¼€å‘åˆ†æ”¯
git checkout -b develop

# 2. å¼€å‘æ–°åŠŸèƒ½
# ç¼–è¾‘ä»£ç ...

# 3. æäº¤åˆ°å¼€å‘åˆ†æ”¯
git add .
git commit -m "æ–°åŠŸèƒ½: xxx"
git push origin develop

# 4. Cloudflare ä¼šåˆ›å»ºé¢„è§ˆéƒ¨ç½²
# è®¿é—®é¢„è§ˆ URL æµ‹è¯•

# 5. åˆå¹¶åˆ°ä¸»åˆ†æ”¯
git checkout main
git merge develop
git push origin main

# 6. ç”Ÿäº§ç¯å¢ƒè‡ªåŠ¨æ›´æ–°
```

---

## ğŸ› ï¸ æ•…éšœæ’é™¤

### é—®é¢˜ 1ï¼šæ„å»ºå¤±è´¥

**æ£€æŸ¥æ­¥éª¤**ï¼š
1. æŸ¥çœ‹ Cloudflare Pages æ„å»ºæ—¥å¿—
2. ç¡®è®¤ `package.json` ä¸­çš„è„šæœ¬æ­£ç¡®
3. æ£€æŸ¥ç¯å¢ƒå˜é‡æ˜¯å¦æ­£ç¡®é…ç½®

**å¸¸è§é”™è¯¯**ï¼š
```
Error: pnpm: command not found
è§£å†³ï¼šä¿®æ”¹æ„å»ºå‘½ä»¤ä¸º npm install && npm run build
```

### é—®é¢˜ 2ï¼šç½‘ç«™æ˜¾ç¤ºç©ºç™½

**æ£€æŸ¥æ­¥éª¤**ï¼š
1. æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·ï¼ˆF12ï¼‰
2. æŸ¥çœ‹ Console ä¸­çš„é”™è¯¯
3. æ£€æŸ¥ Network æ ‡ç­¾ä¸­çš„è¯·æ±‚

**å¸¸è§åŸå› **ï¼š
- Supabase ç¯å¢ƒå˜é‡æœªé…ç½®
- API URL æˆ– Key é”™è¯¯
- CORS é—®é¢˜

### é—®é¢˜ 3ï¼šæ— æ³•ç™»å½•

**æ£€æŸ¥æ­¥éª¤**ï¼š
1. ç¡®è®¤ Supabase é¡¹ç›®æ­£å¸¸è¿è¡Œ
2. æ£€æŸ¥ RLS ç­–ç•¥æ˜¯å¦æ­£ç¡®
3. æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯

**è§£å†³æ–¹æ¡ˆ**ï¼š
```sql
-- åœ¨ Supabase SQL Editor ä¸­æ£€æŸ¥ç­–ç•¥
SELECT * FROM pg_policies WHERE tablename IN ('categories', 'sites', 'settings');
```

### é—®é¢˜ 4ï¼šæ•°æ®æ— æ³•ä¿å­˜

**æ£€æŸ¥æ­¥éª¤**ï¼š
1. ç¡®è®¤ç”¨æˆ·å·²ç™»å½•
2. æ£€æŸ¥ RLS ç­–ç•¥
3. æŸ¥çœ‹ Supabase Logs

---

## ğŸ“Š ç›‘æ§å’Œç»´æŠ¤

### æ¯å‘¨æ£€æŸ¥

- [ ] æŸ¥çœ‹ Cloudflare Pages éƒ¨ç½²çŠ¶æ€
- [ ] æ£€æŸ¥ Supabase ä½¿ç”¨æƒ…å†µ
- [ ] æŸ¥çœ‹é”™è¯¯æ—¥å¿—

### æ¯æœˆæ£€æŸ¥

- [ ] å¤‡ä»½ Supabase æ•°æ®
- [ ] æ›´æ–°ä¾èµ–åŒ…
- [ ] æ£€æŸ¥å®‰å…¨æ›´æ–°

### å¤‡ä»½ç­–ç•¥

```bash
# 1. å¯¼å‡ºæ•°æ®ï¼ˆåœ¨ç½‘ç«™ç®¡ç†åå°ï¼‰
ç‚¹å‡»ï¼šæ•°æ®ç®¡ç† â†’ å¯¼å‡ºæ•°æ®

# 2. Supabase è‡ªåŠ¨å¤‡ä»½
è¿›å…¥ï¼šDatabase â†’ Backups
æŸ¥çœ‹ï¼šæœ€è¿‘ 7 å¤©çš„å¤‡ä»½

# 3. GitHub ä»£ç å¤‡ä»½
# ä»£ç å·²è‡ªåŠ¨å¤‡ä»½åœ¨ GitHub
```

---

## ğŸ¯ ä¼˜åŒ–å»ºè®®

### æ€§èƒ½ä¼˜åŒ–

1. **å¯ç”¨ Cloudflare ç¼“å­˜**
   - åˆ›å»º `_headers` æ–‡ä»¶
   - é…ç½®é™æ€èµ„æºç¼“å­˜

2. **ä¼˜åŒ–å›¾ç‰‡**
   - ä½¿ç”¨ WebP æ ¼å¼
   - å‹ç¼©å›¾ç‰‡å¤§å°

3. **ä»£ç åˆ†å‰²**
   - å·²åœ¨ `vite.config.ts` ä¸­é…ç½®
   - æ— éœ€é¢å¤–æ“ä½œ

### SEO ä¼˜åŒ–

1. **å·²å®Œæˆ**ï¼š
   - âœ… Meta æ ‡ç­¾
   - âœ… Open Graph æ ‡ç­¾
   - âœ… Sitemapï¼ˆå¯é€‰ï¼‰

2. **å»ºè®®æ·»åŠ **ï¼š
   - robots.txt
   - ç»“æ„åŒ–æ•°æ®

### å®‰å…¨ä¼˜åŒ–

1. **å®šæœŸæ›´æ–°ä¾èµ–**
   ```bash
   pnpm update
   ```

2. **ç›‘æ§å®‰å…¨æ¼æ´**
   ```bash
   pnpm audit
   ```

3. **å¯ç”¨ HTTPS**
   - Cloudflare Pages è‡ªåŠ¨å¯ç”¨
   - æ— éœ€é…ç½®

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [GitHub ä¸Šä¼ æŒ‡å—](./GITHUB_DEPLOYMENT_GUIDE.md)
- [Cloudflare Pages éƒ¨ç½²æŒ‡å—](./CLOUDFLARE_PAGES_GUIDE.md)
- [Supabase é…ç½®æŒ‡å—](./SUPABASE_SETUP_GUIDE.md)
- [é¡¹ç›® README](./README.md)

---

## ğŸ‰ æ­å–œï¼

æ‚¨å·²æˆåŠŸéƒ¨ç½²æ™ºèƒ½å¯¼èˆªç½‘ç«™ï¼

**æ‚¨çš„ç½‘ç«™åœ°å€**ï¼š`https://nav-website.pages.dev`

**ä¸‹ä¸€æ­¥**ï¼š
1. é…ç½®è‡ªå®šä¹‰åŸŸåï¼ˆå¯é€‰ï¼‰
2. é‚€è¯·æœ‹å‹ä½¿ç”¨
3. æ ¹æ®éœ€æ±‚æ·»åŠ æ–°åŠŸèƒ½

**éœ€è¦å¸®åŠ©ï¼Ÿ**
- æŸ¥çœ‹æ–‡æ¡£
- æ£€æŸ¥ GitHub Issues
- è”ç³»æŠ€æœ¯æ”¯æŒ

---

## ğŸ“ å¿«é€Ÿå‚è€ƒå‘½ä»¤

```bash
# æœ¬åœ°å¼€å‘
pnpm dev

# æ„å»ºé¡¹ç›®
pnpm build

# é¢„è§ˆæ„å»º
pnpm preview

# æäº¤ä»£ç 
git add .
git commit -m "æ›´æ–°è¯´æ˜"
git push origin main

# æŸ¥çœ‹çŠ¶æ€
git status

# æŸ¥çœ‹æ—¥å¿—
git log --oneline
```

---

**æœ€åæ›´æ–°**ï¼š2025-11-21
**ç‰ˆæœ¬**ï¼šv4.0.1
